跨域（跨域请求）

什么是域？
域就是url中方案、域名以及端口组合在一起。就叫做域
通过location.origin可以获取当前页面的域。

同域请求
请求的url中方案、域名、端口这三部分都和宿主页面的方案、域名、端口相同，那么这个请求就叫做同域请求。

跨域请求
请求的url中方案、域名、端口这三部分和宿主页面的方案、域名、端口有任何一个不相同，那么这个就叫做跨域请求。

同源策略
同源策略是浏览器厂商强制添加一种安全限制，它限制了javascript在跨域时无法进行某些操作。
例如无法进行ajax、无获取跨域iframe里的内容。

既然有同源策略的存在，那么如何成功便捷发起跨域请求？
答：绕过同源策略即可。

因为同源策略主要限制了javascript，是否可以不通过javascript进行跨域访问？通过html标签进行跨域访问。

有哪些标签可以进行跨域资源访问？
1、img
会把加载过来的内容强制转换为图片限制，如果内容不是合法的图片，则显示裂图。
缺点：虽然img可以加载跨域资源，但是由于它本身的特性，无法获取跨域资源的内容。

2、script
可以成功加载跨域资源，并且会把跨域资源当成javascript去执行。

3、ifame（iframe可以成功加载跨域资源，但是无法通过javascript获取内部的资源。）

如果解决变量被覆盖的问题？
1、由浏览器和服务器格式命名改为由浏览器统一命名
2、浏览器在前端定义好变量名通过querystring传递给服务器
3、server提前定义好用来传递变量名的那个键值，例子中的key
4、server通过定义好的键值来获取前端传过来的变量名
5、server拼接变量名，并返回给浏览器


script加载完成时立即打印？
1、在全局环境下定一个函数，并且把函数名通过之前定义好的请求参数发送给服务器
2、服务器收到前端传过来的那个全局函数名
3、拼装 “全局函数名(数据);” 返回浏览器

为什么叫做jsonp？
jsonp的命名来源是根据服务器返回的数据格式产生的。
“方法名 ( jsonString )”
jsonString padding a function name
jsonString padding
json padding
jsonp

jsonp的特点：
1、因为jsonp是通过script的src属性加载的资源，所以只能是get方法请求。导致了get方法有的特点jsonp全有。
2、在全局环境下定义函数
3、服务器需要提供一个请求参数，让前端将定义好的函数名传递给服务器
4、服务器返回的数据格式必须是 “函数名(json字符串)”，如果不满足这样的格式，那么这个接口就不是jsonp接口


