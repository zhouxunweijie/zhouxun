<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var num = 2;//window.num=2 3 4 5
    var obj = { num : 3};//obj.num=3 4 5
    obj.fn = (function (num){ //num=5
        this.num++;
        num += 2;
        var num = 5;//num=5 6 7 8 9
        return function (n){
            this.num += 1;
            num += 1;
            console.log(n + num); //10  13
            return function (){
                this.num += 1;
                console.log(this);
                num += 1;
                console.log(num);//7 9
            }
        }
    })(obj.num);
    var f = obj.fn;
    f(4)();//10 7
    obj.fn(5)();//13 9
    console.log(window.num,obj.num);//6 4
</script>
</body>
</html>