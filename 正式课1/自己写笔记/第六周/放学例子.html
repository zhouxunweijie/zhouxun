<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

</body>
</html>
<script>
    function fangXue(){
        window.setInterval(function(){
            console.log("ok");
            run(prant,"fangXue");
        },3000)
    }
    fangXue();
    var prant = {};
    function each(){
        console.log("吃饭")
    }
    function xizao(){
        console.log("洗澡")
    }
    function Kge(){
        console.log("唱歌")
    }
    on(prant,"fangXue",each);
    on(prant,"fangXue",xizao);
    on(prant,"fangxue",Kge);


    function on(ele,type,fn){
        if(!ele[type]){
            ele[type] = [];
        }
        a = ele[type];
        for(var i = 0;i< a.length;i++){
            if(a[i] == fn){
                return ;
            }
        }
        a.push(fn);
    }
    function run(ele,type){
      var a = ele[type];
        if(a){
            for(var i =0;i< a.length;i++){
                a[i].call(ele)
            }
        }
    }
    function off(ele,type,fn){
        var a = ele[type];
        if(a){
            for(var i =0;i< a.length;i++){
                if(a[i] == fn){
                    a[i] =null;
                }
            }
        }
    }
</script>