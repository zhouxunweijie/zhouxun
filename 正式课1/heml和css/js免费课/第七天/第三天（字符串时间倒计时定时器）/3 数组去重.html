<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
</body>
</html>
<script>
    // splice
    // 双循环数组去重  没有bug的数组去重
    var ary = [1,2,3,4,2,3,5,6,7,8,8];
    // 第一层的i循环是分别把数组的每一项拿出来，和它后面的所有项去比较。但是最后一项后面再没有其他项了。所以最后一项就不用跟后面比了。那么比较多少次呢？数组的length-1次
    for(var i=0; i<ary.length-1; i++){
        // 当i=0的时候，就是拿第一项1和它后面的2,3,4,3,2去分别比较
        for(var j = i+1; j < ary.length; j++){
            //这个j循环是当第一次把第一项1拿出来之后，要和1后面的所有项目循环比较.无论i的值为多少，j都是从它的下一项开始比较。所以j的开始值永远都是i+1。并且要比较到结束。所以j<ary.length;
            if(ary[i] === ary[j]){
                //ary.splice(j,1); //只要是splice就是在原有数组上删除的。这样就形成了一个数组塌陷。后面的项目跑到了前面的位置。那么下次j++的时候就把刚刚跑到这个位置的那一项跳过了。从而导致了没有比较的问题。所以在 j++之前要j--一次。保证下次还从这个位置开始比较
                //j--;

                ary[j] = ary[ary.length-1]; //把最后一项的值赋值给当前项，也就是把最后一项拿过来放到当前这个重复项目的位置
                j--; //虽然没有数组塌陷，但是也需要把刚刚拿过来最后一项做比较，最后一项就没用。就可以删掉了。
                ary.length--;

            }

        }
    }
    console.log(ary);





</script>